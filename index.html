<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>üéÇ Sto lat, Mamo!</title>
  <meta name="theme-color" content="#ff9bd2" />
  <style>
    :root{ --bg1:#ffe8f1;--bg2:#f6fff4;--bg3:#e9f3ff; --ink:#263238;--muted:#5c6b73;--accent:#ff71a5;--accent2:#6cc4a1;--accent3:#7aa8ff; --card: rgba(255,255,255,.65); --glass: blur(12px) saturate(1.2);} *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; color:var(--ink); background: radial-gradient(1200px 800px at 100% -10%, var(--bg3), transparent), radial-gradient(1200px 900px at -10% 110%, var(--bg2), transparent), linear-gradient(180deg, var(--bg1), #fff); overflow-x:hidden}
    .container{max-width:900px;margin:0 auto;padding:20px 16px 120px}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px; position:sticky;top:0;z-index:10;padding:10px 12px;margin:0 -12px 16px; background:linear-gradient(to bottom, rgba(255,255,255,.7), rgba(255,255,255,.35)); backdrop-filter: var(--glass); border-bottom:1px solid rgba(0,0,0,.06)}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:36px;height:36px;border-radius:50%; background: conic-gradient(from 90deg, var(--accent), var(--accent2), var(--accent3), var(--accent)); box-shadow:0 4px 12px rgba(0,0,0,.15) inset}
    h1{font-size:clamp(28px, 4vw, 44px);margin:0;line-height:1.05}
    .muted{color:var(--muted)}
    .btn{appearance:none;border:0;border-radius:999px;padding:10px 16px;font-weight:700;cursor:pointer; background:var(--ink);color:#fff;box-shadow:0 6px 14px rgba(0,0,0,.15);transition:.2s transform ease,.2s box-shadow ease}
    .btn:hover{transform:translateY(-1px);box-shadow:0 10px 20px rgba(0,0,0,.18)}
    .btn.secondary{background:#fff;color:var(--ink);border:1px solid rgba(0,0,0,.08)}
    .hero{display:grid;grid-template-columns:1.2fr .8fr;gap:18px;align-items:center}
    .card{background:var(--card);backdrop-filter: var(--glass);border:1px solid rgba(0,0,0,.08); border-radius:24px;padding:18px;box-shadow:0 12px 30px rgba(0,0,0,.1)}
    .card h2{margin:4px 0 10px;font-size:clamp(22px, 3.6vw, 34px)}
    .pill{display:inline-flex;gap:8px;align-items:center;padding:6px 10px;border-radius:999px;font-size:12px;background:#fff;border:1px solid rgba(0,0,0,.06)}
    .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .player{display:flex;align-items:center;gap:10px}
    .player button{width:42px;height:42px;border-radius:50%;display:grid;place-items:center}
    .note{font-size:14px}
    /* Gift box */
    .gift{position:relative;display:grid;place-items:center;min-height:280px}
    .lid,.box{width:100%;max-width:380px;border-radius:18px}
    .box{height:160px;background:linear-gradient(135deg,#fff, #ffe6f2);border:2px dashed var(--accent);position:relative;overflow:hidden}
    .lid{height:64px;background:linear-gradient(135deg,#fff, #e6f7ff);border:2px dashed var(--accent3); transform-origin:bottom center;transform:rotateX(0deg);transition:transform .6s cubic-bezier(.2,.8,.2,1)}
    .ribbon{position:absolute;top:0;left:50%;transform:translateX(-50%);width:16px;height:100%;background:var(--accent)}
    .tag{position:absolute;right:-10px;top:-12px;background:#fff;border-radius:10px;padding:6px 10px;border:1px solid rgba(0,0,0,.08);box-shadow:0 6px 16px rgba(0,0,0,.1);font-weight:700}
    .message{position:absolute;inset:12px;display:grid;place-items:center;text-align:center;padding:12px}
    .message h3{margin:0 0 6px}
    .reveal{position:absolute;inset:12px;display:none;place-items:center;text-align:center;padding:12px}
    .gift.open .lid{transform:rotateX(140deg)}
    .gift.open .message{display:none}
    .gift.open .reveal{display:grid;animation:pop .5s ease}
    .wish{font-size:clamp(18px, 3.2vw, 22px);line-height:1.35}
    .type{border-right:2px solid var(--ink);white-space:nowrap;overflow:hidden}
    @keyframes pop{from{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}
    /* Gallery placeholder */
    .gallery{display:grid;place-items:center;padding:18px;min-height:140px}
    .gallery-placeholder{font-style:italic;color:var(--muted);background:#fff;padding:16px 18px;border-radius:14px;border:1px solid rgba(0,0,0,.06);box-shadow:0 4px 12px rgba(0,0,0,.06)}
    /* Confetti */
    #confetti{position:fixed;inset:0;pointer-events:none}
    footer{margin-top:26px;text-align:center;font-size:12px;color:var(--muted)}
    @media (max-width:820px){ .hero{grid-template-columns:1fr} }
  </style>
</head>
<body>
<canvas id="confetti"></canvas>
  <header>
    <div class="brand">
      <div class="logo" aria-hidden="true"></div>
      <div>
        <div class="pill">üéâ Urodzinowa strona</div>
        <h1 id="title">Sto lat, Mamo! üíó</h1>
      </div>
    </div>
    <div class="player">
      <button class="btn secondary" id="playPause" aria-label="W≈ÇƒÖcz muzykƒô">‚ñ∂Ô∏é</button>
      <audio id="audio" preload="auto"></audio>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <div class="card">
        <h2 id="lead">Dzi≈õ ≈õwiƒôtujemy Ciebie. Dziƒôkujƒô za ciep≈Ço, mƒÖdre s≈Çowa i najpyszniejsze obiady pod s≈Ço≈Ñcem. üå∑</h2>
        <p class="muted">Dotknij pude≈Çka, aby odkryƒá wiadomo≈õƒá, a je≈õli chcesz ‚Äì w≈ÇƒÖcz muzykƒô.</p>
        <div class="actions"><button class="btn" id="share">Udostƒôpnij tƒô stronƒô</button><button class="btn secondary" id="confettiBtn">Konfetti!</button></div>
        <p class="note muted" id="from">‚Äî od <strong><span id="fromName">Aleksander</span></strong></p>
      </div>
      <div class="card gift" id="gift">
        <div class="lid"></div>
        <div class="box">
          <div class="ribbon"></div>
          <div class="tag" id="tag">Dla Mamy</div>
          <div class="message">
            <h3>Dotknij, aby otworzyƒá üéÅ</h3>
            <p class="muted">(przytrzymaj d≈Çu≈ºej, aby zobaczyƒá sekretnƒÖ wiadomo≈õƒá)</p>
          </div>
          <div class="reveal">
            <div>
              <h3 id="revealTitle">Najlepsza Mama na ≈õwiecie</h3>
              <p id="revealText" class="wish type"></p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="card gallery">
      <div class="gallery-placeholder">üì∑ Tu mia≈Çy byƒá wspomnienia‚Ä¶ ale nie mam zdjƒôƒá</div>
    </section>

    <section class="card">
      <h2>üíå ≈ªyczenia</h2>
      <p id="longWish" class="wish"></p>
      <div class="actions"><button class="btn secondary" id="copyBtn">Skopiuj ≈ºyczenia</button></div>
    </section>

    <footer>
      Zrobione z ‚ù§Ô∏è specjalnie dla Mamy.
    </footer>
  </main>

<script>
// ======= USTAWIENIA =======
const CONFIG = {
  MOM_NAME: "Mamo",
  FROM_NAME: "Aleksander",
  PAGE_TITLE: "Sto lat, Mamo!",
  TAG_LINE: "Dla Mamy",
  REVEAL_TITLE: "Najlepsza Mama na ≈õwiecie",
  SHORT_WISH: "Dziƒôkujƒô za wszystko: ciep≈Ço i wsparcie. Niech ka≈ºdy dzie≈Ñ bƒôdzie dla Ciebie lekki i pe≈Çen drobnych rado≈õci!",
  SECRET_WISH: "Cokolwiek siƒô dzieje ‚Äì pamiƒôtaj, ≈ºe jeste≈õmy dru≈ºynƒÖ. Kocham Ciƒô.",
  LONG_WISH_TEMPLATE: `Kochana Mamo,

≈ªyczƒô Ci zdrowia, spokoju i codziennych moment√≥w, kt√≥re wywo≈ÇujƒÖ u≈õmiech.
Niech spe≈ÇniajƒÖ siƒô Twoje marzenia ‚Äì te ma≈Çe i te du≈ºe.
Dziƒôkujƒô za TwojƒÖ cierpliwo≈õƒá, dobre s≈Çowa i to, ≈ºe dom jest dziƒôki Tobie ciep≈Çy.
Sto lat!`,
  PHOTOS: [],
  AUDIO_URL: ""
};

// ======= HELPERS =======
const $ = s => document.querySelector(s);

function typeText(el, text, speed=20){
  el.textContent = '';
  let i=0; const t = setInterval(()=>{
    el.textContent = text.slice(0, i++);
    if(i>text.length){ clearInterval(t); el.classList.remove('type'); el.style.borderRight='none'; }
  }, speed);
}

// ======= INIT =======
function initText(){
  const mom = CONFIG.MOM_NAME || 'Mamo';
  document.title = CONFIG.PAGE_TITLE;
  $('#title').textContent = CONFIG.PAGE_TITLE;
  $('#tag').textContent = CONFIG.TAG_LINE;
  $('#fromName').textContent = CONFIG.FROM_NAME;
  $('#lead').innerHTML = `Dzi≈õ ≈õwiƒôtujemy Ciebie, <strong>${mom}</strong>. Dziƒôkujƒô za ciep≈Ço, mƒÖdre s≈Çowa i najpyszniejsze obiady pod s≈Ço≈Ñcem. üå∑`;
  $('#revealTitle').textContent = CONFIG.REVEAL_TITLE && CONFIG.REVEAL_TITLE.trim() ? CONFIG.REVEAL_TITLE : `Najlepsza ${mom} na ≈õwiecie`;
  typeText($('#revealText'), CONFIG.SHORT_WISH, 14);
  $('#longWish').textContent = (CONFIG.LONG_WISH_TEMPLATE || '').replaceAll('{MOM_NAME}', mom);
  if(CONFIG.AUDIO_URL){ const a = $('#audio'); a.src = CONFIG.AUDIO_URL; }
}

// ======= GIFT =======
(function giftBox(){
  const gift = $('#gift'); if(!gift) return;
  let pressTimer=null, opened=false, secret=false;
  const open = ()=>{ if(opened) return; opened=true; gift.classList.add('open'); boomConfetti(); };
  const revealSecret = ()=>{ secret=true; typeText($('#revealText'), CONFIG.SECRET_WISH, 16); };
  gift.addEventListener('click', ()=>{ if(!secret) open(); });
  function startHold(){ pressTimer=setTimeout(()=>{ if(opened) revealSecret(); else {open(); setTimeout(revealSecret, 300);} }, 650); }
  function cancelHold(){ clearTimeout(pressTimer); }
  gift.addEventListener('touchstart', startHold, {passive:true});
  gift.addEventListener('mousedown', startHold);
  gift.addEventListener('touchend', cancelHold); gift.addEventListener('mouseup', cancelHold); gift.addEventListener('mouseleave', cancelHold);
})();

// ======= SHARE/COPY =======
$('#share').addEventListener('click', async ()=>{
  try{
    if(navigator.share){ await navigator.share({title: document.title, text: 'Zobacz naszƒÖ urodzinowƒÖ stronƒô ‚ù§Ô∏è', url: location.href}); }
    else{ await navigator.clipboard.writeText(location.href); alert('Link skopiowany!'); }
  }catch(e){}
});
$('#copyBtn').addEventListener('click', async ()=>{
  try{ await navigator.clipboard.writeText($('#longWish').textContent); alert('Skopiowano ≈ºyczenia!'); }catch(e){ alert('Nie uda≈Ço siƒô skopiowaƒá.'); }
});

// ======= AUDIO =======
(function audioCtrl(){
  const btn=$('#playPause'), a=$('#audio');
  if(!CONFIG.AUDIO_URL){ btn.disabled=true; btn.textContent='‚Äî'; btn.title='Dodaj AUDIO_URL w ustawieniach'; return; }
  btn.addEventListener('click', async ()=>{ if(a.paused){ await a.play(); btn.textContent='‚è∏'; } else { a.pause(); btn.textContent='‚ñ∂Ô∏é'; } });
})();

// ======= CONFETTI =======
const confetti = document.getElementById('confetti');
const ctx = confetti.getContext('2d');
let pieces=[]; let W=innerWidth, H=innerHeight; confetti.width=W; confetti.height=H;
function makePiece(){
  const colors=['#ff71a5','#6cc4a1','#7aa8ff','#ffd166','#06d6a0','#ef476f'];
  return {x:Math.random()*W, y:-20-Math.random()*H, r:4+Math.random()*6, s:1+Math.random()*2.5, a:Math.random()*360, c:colors[(Math.random()*colors.length)|0]};
}
function boomConfetti(){
  for(let i=0;i<120;i++) pieces.push(makePiece());
}
function tick(){
  ctx.clearRect(0,0,W,H);
  pieces.forEach(p=>{
    p.y += p.s; p.x += Math.sin((p.y+p.a)/25)*0.8; p.a+=2;
    ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.a*Math.PI/180);
    ctx.fillStyle=p.c; ctx.fillRect(-p.r/2,-p.r/2,p.r,p.r); ctx.restore();
  });
  pieces = pieces.filter(p=> p.y < H+20);
  requestAnimationFrame(tick);
}
addEventListener('resize', ()=>{W=innerWidth;H=innerHeight;confetti.width=W;confetti.height=H;});
requestAnimationFrame(tick);
$('#confettiBtn').addEventListener('click', boomConfetti);

// ======= START =======
initText();
</script>
</body>
</html>
